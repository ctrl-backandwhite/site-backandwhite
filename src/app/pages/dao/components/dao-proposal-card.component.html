<div class="card h-100 dao-proposal-card" [ngClass]="'status-' + proposal.status">
    <div class="card-body">
        <div class="d-flex align-items-start justify-content-between">
            <div class="avatar-md">
                <div class="avatar-title rounded bg-light text-secondary">
                    <i class="bx" [ngClass]="getCategoryIcon()"></i>
                </div>
            </div>
            <span class="badge bg-soft-primary text-primary text-uppercase">
                {{ getCategoryLabel() }}
            </span>
        </div>

        <h5 class="mt-3 mb-2">{{ proposal.name }}</h5>
        <p class="text-muted mb-3 clamp-2">{{ proposal.description }}</p>

        <div class="d-flex justify-content-between small text-muted">
            <span>{{ 'DAO.INDUSTRY' | translate }}</span>
            <span class="text-body fw-medium">{{ proposal.details.industry }}</span>
        </div>
        <div class="d-flex justify-content-between small text-muted mb-3">
            <span>{{ 'DAO.LOCATION' | translate }}</span>
            <span class="text-body fw-medium">{{ proposal.details.location }}</span>
        </div>

        <div class="mb-3">
            <div class="d-flex justify-content-between">
                <span class="text-muted small">{{ 'DAO.VOTES' | translate }}</span>
                <span class="text-muted small">{{ proposal.currentVotes }} / {{ proposal.votesRequired }}</span>
            </div>
            <div class="progress progress-sm">
                <div class="progress-bar bg-primary" [style.width.%]="getVotePercentage()"></div>
            </div>
        </div>

        <div class="mb-3">
            <div class="d-flex justify-content-between">
                <span class="text-muted small">{{ 'DAO.FUNDING' | translate }}</span>
                <span class="text-muted small">{{ proposal.currentFunding | number }} / {{ proposal.targetFunding |
                    number }}</span>
            </div>
            <div class="progress progress-sm">
                <div class="progress-bar bg-success" [style.width.%]="getFundingPercentage()"></div>
            </div>
        </div>

        <div class="d-flex align-items-center justify-content-between mb-3">
            <span class="badge bg-soft-warning text-warning">
                {{ getDaysLeft() }} {{ 'DAO.DAYS_LEFT' | translate }}
            </span>
            <span class="text-success fw-semibold">
                {{ 'DAO.EXPECTED_RETURN' | translate }}: {{ proposal.details.expectedReturn }}
            </span>
        </div>
    </div>

    <div class="card-footer bg-transparent border-top-0 pt-0">
        <div class="d-flex gap-2">
            <button class="btn btn-primary btn-sm w-100" (click)="onVote()"
                [disabled]="!canVote || proposal.status !== 'active'">
                <i class="bx bx-check-circle me-1"></i>
                {{ 'DAO.VOTE' | translate }}
            </button>
            <button class="btn btn-success btn-sm w-100" (click)="onInvest()" [disabled]="proposal.status !== 'active'">
                <i class="bx bx-wallet me-1"></i>
                {{ 'DAO.INVEST' | translate }}
            </button>
        </div>
    </div>
</div>
