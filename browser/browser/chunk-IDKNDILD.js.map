{
  "version": 3,
  "sources": ["src/app/core/services/authfake.service.ts", "src/app/core/services/auth.service.ts", "src/app/store/Authentication/authentication.actions.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { User } from 'src/app/store/Authentication/auth.models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthfakeauthenticationService {\r\n    private currentUserSubject: BehaviorSubject<User>;\r\n    public currentUser: Observable<User>;\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.currentUserSubject = new BehaviorSubject<User>(JSON.parse(localStorage.getItem('currentUser')));\r\n        this.currentUser = this.currentUserSubject.asObservable();\r\n    }\r\n\r\n    public get currentUserValue(): User {\r\n        return this.currentUserSubject.value;\r\n    }\r\n\r\n    login(email: string, password: string) {\r\n        return this.http.post<any>(`/users/authenticate`, { email, password })\r\n            .pipe(map(user => {\r\n                // login successful if there's a jwt token in the response\r\n                if (user && user.token) {\r\n                    // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n                    localStorage.setItem('currentUser', JSON.stringify(user));\r\n                    this.currentUserSubject.next(user);\r\n                }\r\n                return user;\r\n            }));\r\n    }\r\n\r\n    logout() {\r\n        // remove user from local storage to log user out\r\n        localStorage.removeItem('currentUser');\r\n        this.currentUserSubject.next(null);\r\n    }\r\n}\r\n", "import { Injectable } from '@angular/core';\r\n\r\nimport { User } from 'src/app/store/Authentication/auth.models';\r\nimport { from, map, of } from 'rxjs';\r\n\r\n\r\n@Injectable({ providedIn: 'root' })\r\n\r\nexport class AuthenticationService {\r\n\r\n    user: User;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * Returns the current user\r\n     */\r\n    public currentUser(): User {\r\n        const authUser = sessionStorage.getItem('authUser');\r\n        return authUser ? JSON.parse(authUser) : null;\r\n    }\r\n\r\n\r\n    /**\r\n     * Performs the auth\r\n     * @param email email of user\r\n     * @param password password of user\r\n     */\r\n    login(email: string, password: string) {\r\n        const authUser = sessionStorage.getItem('authUser');\r\n        return of(authUser ? JSON.parse(authUser) : null);\r\n    }\r\n\r\n    /**\r\n     * Performs the register\r\n     * @param email email\r\n     * @param password password\r\n     */\r\n    register(user: User) {\r\n        return of(user);\r\n    }\r\n\r\n    /**\r\n     * Reset password\r\n     * @param email email\r\n     */\r\n    resetPassword(email: string) {\r\n        return of({ message: 'Password reset email sent' });\r\n    }\r\n\r\n    /**\r\n     * Logout the user\r\n     */\r\n    logout() {\r\n        // logout the user\r\n        sessionStorage.removeItem('authUser');\r\n    }\r\n}\r\n\r\n", "import { createAction, props } from '@ngrx/store';\r\nimport { User } from './auth.models';\r\n\r\n// Register action\r\nexport const Register = createAction('[Authentication] Register', props<{ email: string, username: string, password: string }>());\r\nexport const RegisterSuccess = createAction('[Authentication] Register Success', props<{ user: User }>());\r\nexport const RegisterFailure = createAction('[Authentication] Register Failure', props<{ error: string }>());\r\n\r\n// login action\r\nexport const login = createAction('[Authentication] Login', props<{ email: string, password: string }>());\r\nexport const loginSuccess = createAction('[Authentication] Login Success', props<{ user: any }>());\r\nexport const loginFailure = createAction('[Authentication] Login Failure', props<{ error: any }>());\r\n\r\n\r\n// logout action\r\nexport const logout = createAction('[Authentication] Logout');\r\n\r\nexport const logoutSuccess = createAction('[Auth] Logout Success');\r\n\r\n\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAOM,IAAO,gCAAP,MAAO,+BAA6B;EAItC,YAAoB,MAAgB;AAAhB,SAAA,OAAA;AAChB,SAAK,qBAAqB,IAAI,gBAAsB,KAAK,MAAM,aAAa,QAAQ,aAAa,CAAC,CAAC;AACnG,SAAK,cAAc,KAAK,mBAAmB,aAAY;EAC3D;EAEA,IAAW,mBAAgB;AACvB,WAAO,KAAK,mBAAmB;EACnC;EAEA,MAAM,OAAe,UAAgB;AACjC,WAAO,KAAK,KAAK,KAAU,uBAAuB,EAAE,OAAO,SAAQ,CAAE,EAChE,KAAK,IAAI,UAAO;AAEb,UAAI,QAAQ,KAAK,OAAO;AAEpB,qBAAa,QAAQ,eAAe,KAAK,UAAU,IAAI,CAAC;AACxD,aAAK,mBAAmB,KAAK,IAAI;MACrC;AACA,aAAO;IACX,CAAC,CAAC;EACV;EAEA,SAAM;AAEF,iBAAa,WAAW,aAAa;AACrC,SAAK,mBAAmB,KAAK,IAAI;EACrC;;;uCA9BS,gCAA6B,mBAAA,UAAA,CAAA;IAAA;EAAA;;4EAA7B,gCAA6B,SAA7B,+BAA6B,WAAA,YADhB,OAAM,CAAA;EAAA;;;sEACnB,+BAA6B,CAAA;UADzC;WAAW,EAAE,YAAY,OAAM,CAAE;;;;;ACE5B,IAAO,wBAAP,MAAO,uBAAqB;EAI9B,cAAA;EACA;;;;EAKO,cAAW;AACd,UAAM,WAAW,eAAe,QAAQ,UAAU;AAClD,WAAO,WAAW,KAAK,MAAM,QAAQ,IAAI;EAC7C;;;;;;EAQA,MAAM,OAAe,UAAgB;AACjC,UAAM,WAAW,eAAe,QAAQ,UAAU;AAClD,WAAO,GAAG,WAAW,KAAK,MAAM,QAAQ,IAAI,IAAI;EACpD;;;;;;EAOA,SAAS,MAAU;AACf,WAAO,GAAG,IAAI;EAClB;;;;;EAMA,cAAc,OAAa;AACvB,WAAO,GAAG,EAAE,SAAS,4BAA2B,CAAE;EACtD;;;;EAKA,SAAM;AAEF,mBAAe,WAAW,UAAU;EACxC;;;uCAjDS,wBAAqB;IAAA;EAAA;;4EAArB,wBAAqB,SAArB,uBAAqB,WAAA,YAFR,OAAM,CAAA;EAAA;;;sEAEnB,uBAAqB,CAAA;UAFjC;WAAW,EAAE,YAAY,OAAM,CAAE;;;;;ACF3B,IAAM,WAAW,aAAa,6BAA6B,MAAK,CAAyD;AACzH,IAAM,kBAAkB,aAAa,qCAAqC,MAAK,CAAkB;AACjG,IAAM,kBAAkB,aAAa,qCAAqC,MAAK,CAAqB;AAGpG,IAAM,QAAQ,aAAa,0BAA0B,MAAK,CAAuC;AACjG,IAAM,eAAe,aAAa,kCAAkC,MAAK,CAAiB;AAC1F,IAAM,eAAe,aAAa,kCAAkC,MAAK,CAAkB;AAI3F,IAAM,SAAS,aAAa,yBAAyB;AAErD,IAAM,gBAAgB,aAAa,uBAAuB;",
  "names": []
}
